version: '3.8'

services:
  localstack:
    image: localstack/localstack:latest
    ports:
      - "4566:4566"            # LocalStack Gateway
      - "4510-4559:4510-4559"  # External services port range
    environment:
      - SERVICES=route53
      - DEBUG=${DEBUG:-0}
      - DOCKER_HOST=unix:///var/run/docker.sock
    volumes:
      - "${LOCALSTACK_VOLUME_DIR:-./volume}:/var/lib/localstack"
      - "/var/run/docker.sock:/var/run/docker.sock"

  nginx-lb:
    image: nginx:alpine
    ports:
      - "9000:80"  # Load balancer on port 9000
    volumes:
      - ./nginx.conf:/etc/nginx/conf.d/default.conf:ro
    depends_on:
      - koorde-node-0
      - koorde-node-1
      - koorde-node-2
      - koorde-node-3
      - koorde-node-4
      - koorde-node-5
      - koorde-node-6
      - koorde-node-7
      - koorde-node-8
      - koorde-node-9
      - koorde-node-10
      - koorde-node-11
      - koorde-node-12
      - koorde-node-13
      - koorde-node-14
      - koorde-node-15
      - koorde-node-16
      - koorde-node-17
      - koorde-node-18
      - koorde-node-19
      - koorde-node-20
      - koorde-node-21
      - koorde-node-22
      - koorde-node-23
      - koorde-node-24
      - koorde-node-25
      - koorde-node-26
      - koorde-node-27
      - koorde-node-28
      - koorde-node-29
      - koorde-node-30
      - koorde-node-31

  koorde-node-0:
    build:
      context: ../../
      dockerfile: docker/node.Dockerfile
    environment:
      - NODE_ID=01bb881d8b5581f92d
      - NODE_HOST=koorde-node-0
      - NODE_PORT=4000
      - NODE_BIND=0.0.0.0
      - CACHE_HTTP_PORT=8080
      - BOOTSTRAP_MODE=route53
      - DEBRUIJN_DEGREE=2
      - ROUTE53_ZONE_ID=${ROUTE53_ZONE_ID:-Z00000000000000000000}
      - ROUTE53_SUFFIX=dht.local
      - ROUTE53_REGION=us-east-1
      - ROUTE53_ENDPOINT=http://localstack:4566
      - AWS_ACCESS_KEY_ID=test
      - AWS_SECRET_ACCESS_KEY=test
      - AWS_REGION=us-east-1
    ports:
      - "4000:4000"
      - "8080:8080"
    depends_on:
      - localstack
  koorde-node-1:
    build:
      context: ../../
      dockerfile: docker/node.Dockerfile
    environment:
      - NODE_ID=01ecb5df7a1ef4be16
      - NODE_HOST=koorde-node-1
      - NODE_PORT=4001
      - NODE_BIND=0.0.0.0
      - CACHE_HTTP_PORT=8081
      - BOOTSTRAP_MODE=route53
      - DEBRUIJN_DEGREE=2
      - ROUTE53_ZONE_ID=${ROUTE53_ZONE_ID:-Z00000000000000000000}
      - ROUTE53_SUFFIX=dht.local
      - ROUTE53_REGION=us-east-1
      - ROUTE53_ENDPOINT=http://localstack:4566
      - AWS_ACCESS_KEY_ID=test
      - AWS_SECRET_ACCESS_KEY=test
      - AWS_REGION=us-east-1
    ports:
      - "4001:4001"
      - "8081:8081"
    depends_on:
      - localstack
  koorde-node-2:
    build:
      context: ../../
      dockerfile: docker/node.Dockerfile
    environment:
      - NODE_ID=030ef2ddc9b1bbf0c6
      - NODE_HOST=koorde-node-2
      - NODE_PORT=4002
      - NODE_BIND=0.0.0.0
      - CACHE_HTTP_PORT=8082
      - BOOTSTRAP_MODE=route53
      - DEBRUIJN_DEGREE=2
      - ROUTE53_ZONE_ID=${ROUTE53_ZONE_ID:-Z00000000000000000000}
      - ROUTE53_SUFFIX=dht.local
      - ROUTE53_REGION=us-east-1
      - ROUTE53_ENDPOINT=http://localstack:4566
      - AWS_ACCESS_KEY_ID=test
      - AWS_SECRET_ACCESS_KEY=test
      - AWS_REGION=us-east-1
    ports:
      - "4002:4002"
      - "8082:8082"
    depends_on:
      - localstack
  koorde-node-3:
    build:
      context: ../../
      dockerfile: docker/node.Dockerfile
    environment:
      - NODE_ID=031ecbc24f8e7b3a97
      - NODE_HOST=koorde-node-3
      - NODE_PORT=4003
      - NODE_BIND=0.0.0.0
      - CACHE_HTTP_PORT=8083
      - BOOTSTRAP_MODE=route53
      - DEBRUIJN_DEGREE=2
      - ROUTE53_ZONE_ID=${ROUTE53_ZONE_ID:-Z00000000000000000000}
      - ROUTE53_SUFFIX=dht.local
      - ROUTE53_REGION=us-east-1
      - ROUTE53_ENDPOINT=http://localstack:4566
      - AWS_ACCESS_KEY_ID=test
      - AWS_SECRET_ACCESS_KEY=test
      - AWS_REGION=us-east-1
    ports:
      - "4003:4003"
      - "8083:8083"
    depends_on:
      - localstack
  koorde-node-4:
    build:
      context: ../../
      dockerfile: docker/node.Dockerfile
    environment:
      - NODE_ID=0123ddd1a5157c34d7
      - NODE_HOST=koorde-node-4
      - NODE_PORT=4004
      - NODE_BIND=0.0.0.0
      - CACHE_HTTP_PORT=8084
      - BOOTSTRAP_MODE=route53
      - DEBRUIJN_DEGREE=2
      - ROUTE53_ZONE_ID=${ROUTE53_ZONE_ID:-Z00000000000000000000}
      - ROUTE53_SUFFIX=dht.local
      - ROUTE53_REGION=us-east-1
      - ROUTE53_ENDPOINT=http://localstack:4566
      - AWS_ACCESS_KEY_ID=test
      - AWS_SECRET_ACCESS_KEY=test
      - AWS_REGION=us-east-1
    ports:
      - "4004:4004"
      - "8084:8084"
    depends_on:
      - localstack
  koorde-node-5:
    build:
      context: ../../
      dockerfile: docker/node.Dockerfile
    environment:
      - NODE_ID=01d38771e5e8431002
      - NODE_HOST=koorde-node-5
      - NODE_PORT=4005
      - NODE_BIND=0.0.0.0
      - CACHE_HTTP_PORT=8085
      - BOOTSTRAP_MODE=route53
      - DEBRUIJN_DEGREE=2
      - ROUTE53_ZONE_ID=${ROUTE53_ZONE_ID:-Z00000000000000000000}
      - ROUTE53_SUFFIX=dht.local
      - ROUTE53_REGION=us-east-1
      - ROUTE53_ENDPOINT=http://localstack:4566
      - AWS_ACCESS_KEY_ID=test
      - AWS_SECRET_ACCESS_KEY=test
      - AWS_REGION=us-east-1
    ports:
      - "4005:4005"
      - "8085:8085"
    depends_on:
      - localstack
  koorde-node-6:
    build:
      context: ../../
      dockerfile: docker/node.Dockerfile
    environment:
      - NODE_ID=01922c0146acb35038
      - NODE_HOST=koorde-node-6
      - NODE_PORT=4006
      - NODE_BIND=0.0.0.0
      - CACHE_HTTP_PORT=8086
      - BOOTSTRAP_MODE=route53
      - DEBRUIJN_DEGREE=2
      - ROUTE53_ZONE_ID=${ROUTE53_ZONE_ID:-Z00000000000000000000}
      - ROUTE53_SUFFIX=dht.local
      - ROUTE53_REGION=us-east-1
      - ROUTE53_ENDPOINT=http://localstack:4566
      - AWS_ACCESS_KEY_ID=test
      - AWS_SECRET_ACCESS_KEY=test
      - AWS_REGION=us-east-1
    ports:
      - "4006:4006"
      - "8086:8086"
    depends_on:
      - localstack
  koorde-node-7:
    build:
      context: ../../
      dockerfile: docker/node.Dockerfile
    environment:
      - NODE_ID=021a0ed4b343ea5077
      - NODE_HOST=koorde-node-7
      - NODE_PORT=4007
      - NODE_BIND=0.0.0.0
      - CACHE_HTTP_PORT=8087
      - BOOTSTRAP_MODE=route53
      - DEBRUIJN_DEGREE=2
      - ROUTE53_ZONE_ID=${ROUTE53_ZONE_ID:-Z00000000000000000000}
      - ROUTE53_SUFFIX=dht.local
      - ROUTE53_REGION=us-east-1
      - ROUTE53_ENDPOINT=http://localstack:4566
      - AWS_ACCESS_KEY_ID=test
      - AWS_SECRET_ACCESS_KEY=test
      - AWS_REGION=us-east-1
    ports:
      - "4007:4007"
      - "8087:8087"
    depends_on:
      - localstack
  koorde-node-8:
    build:
      context: ../../
      dockerfile: docker/node.Dockerfile
    environment:
      - NODE_ID=013cee6b420d3ef1c9
      - NODE_HOST=koorde-node-8
      - NODE_PORT=4008
      - NODE_BIND=0.0.0.0
      - CACHE_HTTP_PORT=8088
      - BOOTSTRAP_MODE=route53
      - DEBRUIJN_DEGREE=2
      - ROUTE53_ZONE_ID=${ROUTE53_ZONE_ID:-Z00000000000000000000}
      - ROUTE53_SUFFIX=dht.local
      - ROUTE53_REGION=us-east-1
      - ROUTE53_ENDPOINT=http://localstack:4566
      - AWS_ACCESS_KEY_ID=test
      - AWS_SECRET_ACCESS_KEY=test
      - AWS_REGION=us-east-1
    ports:
      - "4008:4008"
      - "8088:8088"
    depends_on:
      - localstack
  koorde-node-9:
    build:
      context: ../../
      dockerfile: docker/node.Dockerfile
    environment:
      - NODE_ID=0254e041ed1edf526c
      - NODE_HOST=koorde-node-9
      - NODE_PORT=4009
      - NODE_BIND=0.0.0.0
      - CACHE_HTTP_PORT=8089
      - BOOTSTRAP_MODE=route53
      - DEBRUIJN_DEGREE=2
      - ROUTE53_ZONE_ID=${ROUTE53_ZONE_ID:-Z00000000000000000000}
      - ROUTE53_SUFFIX=dht.local
      - ROUTE53_REGION=us-east-1
      - ROUTE53_ENDPOINT=http://localstack:4566
      - AWS_ACCESS_KEY_ID=test
      - AWS_SECRET_ACCESS_KEY=test
      - AWS_REGION=us-east-1
    ports:
      - "4009:4009"
      - "8089:8089"
    depends_on:
      - localstack
  koorde-node-10:
    build:
      context: ../../
      dockerfile: docker/node.Dockerfile
    environment:
      - NODE_ID=00571c13fe5f2cc580
      - NODE_HOST=koorde-node-10
      - NODE_PORT=4010
      - NODE_BIND=0.0.0.0
      - CACHE_HTTP_PORT=8090
      - BOOTSTRAP_MODE=route53
      - DEBRUIJN_DEGREE=2
      - ROUTE53_ZONE_ID=${ROUTE53_ZONE_ID:-Z00000000000000000000}
      - ROUTE53_SUFFIX=dht.local
      - ROUTE53_REGION=us-east-1
      - ROUTE53_ENDPOINT=http://localstack:4566
      - AWS_ACCESS_KEY_ID=test
      - AWS_SECRET_ACCESS_KEY=test
      - AWS_REGION=us-east-1
    ports:
      - "4010:4010"
      - "8090:8090"
    depends_on:
      - localstack
  koorde-node-11:
    build:
      context: ../../
      dockerfile: docker/node.Dockerfile
    environment:
      - NODE_ID=0164de18787651e8d5
      - NODE_HOST=koorde-node-11
      - NODE_PORT=4011
      - NODE_BIND=0.0.0.0
      - CACHE_HTTP_PORT=8091
      - BOOTSTRAP_MODE=route53
      - DEBRUIJN_DEGREE=2
      - ROUTE53_ZONE_ID=${ROUTE53_ZONE_ID:-Z00000000000000000000}
      - ROUTE53_SUFFIX=dht.local
      - ROUTE53_REGION=us-east-1
      - ROUTE53_ENDPOINT=http://localstack:4566
      - AWS_ACCESS_KEY_ID=test
      - AWS_SECRET_ACCESS_KEY=test
      - AWS_REGION=us-east-1
    ports:
      - "4011:4011"
      - "8091:8091"
    depends_on:
      - localstack
  koorde-node-12:
    build:
      context: ../../
      dockerfile: docker/node.Dockerfile
    environment:
      - NODE_ID=013c77b9e4d70c004f
      - NODE_HOST=koorde-node-12
      - NODE_PORT=4012
      - NODE_BIND=0.0.0.0
      - CACHE_HTTP_PORT=8092
      - BOOTSTRAP_MODE=route53
      - DEBRUIJN_DEGREE=2
      - ROUTE53_ZONE_ID=${ROUTE53_ZONE_ID:-Z00000000000000000000}
      - ROUTE53_SUFFIX=dht.local
      - ROUTE53_REGION=us-east-1
      - ROUTE53_ENDPOINT=http://localstack:4566
      - AWS_ACCESS_KEY_ID=test
      - AWS_SECRET_ACCESS_KEY=test
      - AWS_REGION=us-east-1
    ports:
      - "4012:4012"
      - "8092:8092"
    depends_on:
      - localstack
  koorde-node-13:
    build:
      context: ../../
      dockerfile: docker/node.Dockerfile
    environment:
      - NODE_ID=0123d96a5a50b6d748
      - NODE_HOST=koorde-node-13
      - NODE_PORT=4013
      - NODE_BIND=0.0.0.0
      - CACHE_HTTP_PORT=8093
      - BOOTSTRAP_MODE=route53
      - DEBRUIJN_DEGREE=2
      - ROUTE53_ZONE_ID=${ROUTE53_ZONE_ID:-Z00000000000000000000}
      - ROUTE53_SUFFIX=dht.local
      - ROUTE53_REGION=us-east-1
      - ROUTE53_ENDPOINT=http://localstack:4566
      - AWS_ACCESS_KEY_ID=test
      - AWS_SECRET_ACCESS_KEY=test
      - AWS_REGION=us-east-1
    ports:
      - "4013:4013"
      - "8093:8093"
    depends_on:
      - localstack
  koorde-node-14:
    build:
      context: ../../
      dockerfile: docker/node.Dockerfile
    environment:
      - NODE_ID=03c5f09767bb97d4e2
      - NODE_HOST=koorde-node-14
      - NODE_PORT=4014
      - NODE_BIND=0.0.0.0
      - CACHE_HTTP_PORT=8094
      - BOOTSTRAP_MODE=route53
      - DEBRUIJN_DEGREE=2
      - ROUTE53_ZONE_ID=${ROUTE53_ZONE_ID:-Z00000000000000000000}
      - ROUTE53_SUFFIX=dht.local
      - ROUTE53_REGION=us-east-1
      - ROUTE53_ENDPOINT=http://localstack:4566
      - AWS_ACCESS_KEY_ID=test
      - AWS_SECRET_ACCESS_KEY=test
      - AWS_REGION=us-east-1
    ports:
      - "4014:4014"
      - "8094:8094"
    depends_on:
      - localstack
  koorde-node-15:
    build:
      context: ../../
      dockerfile: docker/node.Dockerfile
    environment:
      - NODE_ID=0317fafcf912ac5dde
      - NODE_HOST=koorde-node-15
      - NODE_PORT=4015
      - NODE_BIND=0.0.0.0
      - CACHE_HTTP_PORT=8095
      - BOOTSTRAP_MODE=route53
      - DEBRUIJN_DEGREE=2
      - ROUTE53_ZONE_ID=${ROUTE53_ZONE_ID:-Z00000000000000000000}
      - ROUTE53_SUFFIX=dht.local
      - ROUTE53_REGION=us-east-1
      - ROUTE53_ENDPOINT=http://localstack:4566
      - AWS_ACCESS_KEY_ID=test
      - AWS_SECRET_ACCESS_KEY=test
      - AWS_REGION=us-east-1
    ports:
      - "4015:4015"
      - "8095:8095"
    depends_on:
      - localstack
  koorde-node-16:
    build:
      context: ../../
      dockerfile: docker/node.Dockerfile
    environment:
      - NODE_ID=0344075d4ceb904d2a
      - NODE_HOST=koorde-node-16
      - NODE_PORT=4016
      - NODE_BIND=0.0.0.0
      - CACHE_HTTP_PORT=8096
      - BOOTSTRAP_MODE=route53
      - DEBRUIJN_DEGREE=2
      - ROUTE53_ZONE_ID=${ROUTE53_ZONE_ID:-Z00000000000000000000}
      - ROUTE53_SUFFIX=dht.local
      - ROUTE53_REGION=us-east-1
      - ROUTE53_ENDPOINT=http://localstack:4566
      - AWS_ACCESS_KEY_ID=test
      - AWS_SECRET_ACCESS_KEY=test
      - AWS_REGION=us-east-1
    ports:
      - "4016:4016"
      - "8096:8096"
    depends_on:
      - localstack
  koorde-node-17:
    build:
      context: ../../
      dockerfile: docker/node.Dockerfile
    environment:
      - NODE_ID=03d2f36c0f2b441c50
      - NODE_HOST=koorde-node-17
      - NODE_PORT=4017
      - NODE_BIND=0.0.0.0
      - CACHE_HTTP_PORT=8097
      - BOOTSTRAP_MODE=route53
      - DEBRUIJN_DEGREE=2
      - ROUTE53_ZONE_ID=${ROUTE53_ZONE_ID:-Z00000000000000000000}
      - ROUTE53_SUFFIX=dht.local
      - ROUTE53_REGION=us-east-1
      - ROUTE53_ENDPOINT=http://localstack:4566
      - AWS_ACCESS_KEY_ID=test
      - AWS_SECRET_ACCESS_KEY=test
      - AWS_REGION=us-east-1
    ports:
      - "4017:4017"
      - "8097:8097"
    depends_on:
      - localstack
  koorde-node-18:
    build:
      context: ../../
      dockerfile: docker/node.Dockerfile
    environment:
      - NODE_ID=01b8d6d24f0f228c62
      - NODE_HOST=koorde-node-18
      - NODE_PORT=4018
      - NODE_BIND=0.0.0.0
      - CACHE_HTTP_PORT=8098
      - BOOTSTRAP_MODE=route53
      - DEBRUIJN_DEGREE=2
      - ROUTE53_ZONE_ID=${ROUTE53_ZONE_ID:-Z00000000000000000000}
      - ROUTE53_SUFFIX=dht.local
      - ROUTE53_REGION=us-east-1
      - ROUTE53_ENDPOINT=http://localstack:4566
      - AWS_ACCESS_KEY_ID=test
      - AWS_SECRET_ACCESS_KEY=test
      - AWS_REGION=us-east-1
    ports:
      - "4018:4018"
      - "8098:8098"
    depends_on:
      - localstack
  koorde-node-19:
    build:
      context: ../../
      dockerfile: docker/node.Dockerfile
    environment:
      - NODE_ID=005523a423f7cd968b
      - NODE_HOST=koorde-node-19
      - NODE_PORT=4019
      - NODE_BIND=0.0.0.0
      - CACHE_HTTP_PORT=8099
      - BOOTSTRAP_MODE=route53
      - DEBRUIJN_DEGREE=2
      - ROUTE53_ZONE_ID=${ROUTE53_ZONE_ID:-Z00000000000000000000}
      - ROUTE53_SUFFIX=dht.local
      - ROUTE53_REGION=us-east-1
      - ROUTE53_ENDPOINT=http://localstack:4566
      - AWS_ACCESS_KEY_ID=test
      - AWS_SECRET_ACCESS_KEY=test
      - AWS_REGION=us-east-1
    ports:
      - "4019:4019"
      - "8099:8099"
    depends_on:
      - localstack
  koorde-node-20:
    build:
      context: ../../
      dockerfile: docker/node.Dockerfile
    environment:
      - NODE_ID=00c7b726d17e51646b
      - NODE_HOST=koorde-node-20
      - NODE_PORT=4020
      - NODE_BIND=0.0.0.0
      - CACHE_HTTP_PORT=8100
      - BOOTSTRAP_MODE=route53
      - DEBRUIJN_DEGREE=2
      - ROUTE53_ZONE_ID=${ROUTE53_ZONE_ID:-Z00000000000000000000}
      - ROUTE53_SUFFIX=dht.local
      - ROUTE53_REGION=us-east-1
      - ROUTE53_ENDPOINT=http://localstack:4566
      - AWS_ACCESS_KEY_ID=test
      - AWS_SECRET_ACCESS_KEY=test
      - AWS_REGION=us-east-1
    ports:
      - "4020:4020"
      - "8100:8100"
    depends_on:
      - localstack
  koorde-node-21:
    build:
      context: ../../
      dockerfile: docker/node.Dockerfile
    environment:
      - NODE_ID=02788c0a4780537dec
      - NODE_HOST=koorde-node-21
      - NODE_PORT=4021
      - NODE_BIND=0.0.0.0
      - CACHE_HTTP_PORT=8101
      - BOOTSTRAP_MODE=route53
      - DEBRUIJN_DEGREE=2
      - ROUTE53_ZONE_ID=${ROUTE53_ZONE_ID:-Z00000000000000000000}
      - ROUTE53_SUFFIX=dht.local
      - ROUTE53_REGION=us-east-1
      - ROUTE53_ENDPOINT=http://localstack:4566
      - AWS_ACCESS_KEY_ID=test
      - AWS_SECRET_ACCESS_KEY=test
      - AWS_REGION=us-east-1
    ports:
      - "4021:4021"
      - "8101:8101"
    depends_on:
      - localstack
  koorde-node-22:
    build:
      context: ../../
      dockerfile: docker/node.Dockerfile
    environment:
      - NODE_ID=02d4495ce64f3d9e6f
      - NODE_HOST=koorde-node-22
      - NODE_PORT=4022
      - NODE_BIND=0.0.0.0
      - CACHE_HTTP_PORT=8102
      - BOOTSTRAP_MODE=route53
      - DEBRUIJN_DEGREE=2
      - ROUTE53_ZONE_ID=${ROUTE53_ZONE_ID:-Z00000000000000000000}
      - ROUTE53_SUFFIX=dht.local
      - ROUTE53_REGION=us-east-1
      - ROUTE53_ENDPOINT=http://localstack:4566
      - AWS_ACCESS_KEY_ID=test
      - AWS_SECRET_ACCESS_KEY=test
      - AWS_REGION=us-east-1
    ports:
      - "4022:4022"
      - "8102:8102"
    depends_on:
      - localstack
  koorde-node-23:
    build:
      context: ../../
      dockerfile: docker/node.Dockerfile
    environment:
      - NODE_ID=0337475d130eb044f5
      - NODE_HOST=koorde-node-23
      - NODE_PORT=4023
      - NODE_BIND=0.0.0.0
      - CACHE_HTTP_PORT=8103
      - BOOTSTRAP_MODE=route53
      - DEBRUIJN_DEGREE=2
      - ROUTE53_ZONE_ID=${ROUTE53_ZONE_ID:-Z00000000000000000000}
      - ROUTE53_SUFFIX=dht.local
      - ROUTE53_REGION=us-east-1
      - ROUTE53_ENDPOINT=http://localstack:4566
      - AWS_ACCESS_KEY_ID=test
      - AWS_SECRET_ACCESS_KEY=test
      - AWS_REGION=us-east-1
    ports:
      - "4023:4023"
      - "8103:8103"
    depends_on:
      - localstack
  koorde-node-24:
    build:
      context: ../../
      dockerfile: docker/node.Dockerfile
    environment:
      - NODE_ID=039aca3410c7bcc7d2
      - NODE_HOST=koorde-node-24
      - NODE_PORT=4024
      - NODE_BIND=0.0.0.0
      - CACHE_HTTP_PORT=8104
      - BOOTSTRAP_MODE=route53
      - DEBRUIJN_DEGREE=2
      - ROUTE53_ZONE_ID=${ROUTE53_ZONE_ID:-Z00000000000000000000}
      - ROUTE53_SUFFIX=dht.local
      - ROUTE53_REGION=us-east-1
      - ROUTE53_ENDPOINT=http://localstack:4566
      - AWS_ACCESS_KEY_ID=test
      - AWS_SECRET_ACCESS_KEY=test
      - AWS_REGION=us-east-1
    ports:
      - "4024:4024"
      - "8104:8104"
    depends_on:
      - localstack
  koorde-node-25:
    build:
      context: ../../
      dockerfile: docker/node.Dockerfile
    environment:
      - NODE_ID=02049b1596b4e38dfe
      - NODE_HOST=koorde-node-25
      - NODE_PORT=4025
      - NODE_BIND=0.0.0.0
      - CACHE_HTTP_PORT=8105
      - BOOTSTRAP_MODE=route53
      - DEBRUIJN_DEGREE=2
      - ROUTE53_ZONE_ID=${ROUTE53_ZONE_ID:-Z00000000000000000000}
      - ROUTE53_SUFFIX=dht.local
      - ROUTE53_REGION=us-east-1
      - ROUTE53_ENDPOINT=http://localstack:4566
      - AWS_ACCESS_KEY_ID=test
      - AWS_SECRET_ACCESS_KEY=test
      - AWS_REGION=us-east-1
    ports:
      - "4025:4025"
      - "8105:8105"
    depends_on:
      - localstack
  koorde-node-26:
    build:
      context: ../../
      dockerfile: docker/node.Dockerfile
    environment:
      - NODE_ID=0358ad00e5a996e175
      - NODE_HOST=koorde-node-26
      - NODE_PORT=4026
      - NODE_BIND=0.0.0.0
      - CACHE_HTTP_PORT=8106
      - BOOTSTRAP_MODE=route53
      - DEBRUIJN_DEGREE=2
      - ROUTE53_ZONE_ID=${ROUTE53_ZONE_ID:-Z00000000000000000000}
      - ROUTE53_SUFFIX=dht.local
      - ROUTE53_REGION=us-east-1
      - ROUTE53_ENDPOINT=http://localstack:4566
      - AWS_ACCESS_KEY_ID=test
      - AWS_SECRET_ACCESS_KEY=test
      - AWS_REGION=us-east-1
    ports:
      - "4026:4026"
      - "8106:8106"
    depends_on:
      - localstack
  koorde-node-27:
    build:
      context: ../../
      dockerfile: docker/node.Dockerfile
    environment:
      - NODE_ID=0130f4d5a5dfa8eaab
      - NODE_HOST=koorde-node-27
      - NODE_PORT=4027
      - NODE_BIND=0.0.0.0
      - CACHE_HTTP_PORT=8107
      - BOOTSTRAP_MODE=route53
      - DEBRUIJN_DEGREE=2
      - ROUTE53_ZONE_ID=${ROUTE53_ZONE_ID:-Z00000000000000000000}
      - ROUTE53_SUFFIX=dht.local
      - ROUTE53_REGION=us-east-1
      - ROUTE53_ENDPOINT=http://localstack:4566
      - AWS_ACCESS_KEY_ID=test
      - AWS_SECRET_ACCESS_KEY=test
      - AWS_REGION=us-east-1
    ports:
      - "4027:4027"
      - "8107:8107"
    depends_on:
      - localstack
  koorde-node-28:
    build:
      context: ../../
      dockerfile: docker/node.Dockerfile
    environment:
      - NODE_ID=02451c6fc0503fd13e
      - NODE_HOST=koorde-node-28
      - NODE_PORT=4028
      - NODE_BIND=0.0.0.0
      - CACHE_HTTP_PORT=8108
      - BOOTSTRAP_MODE=route53
      - DEBRUIJN_DEGREE=2
      - ROUTE53_ZONE_ID=${ROUTE53_ZONE_ID:-Z00000000000000000000}
      - ROUTE53_SUFFIX=dht.local
      - ROUTE53_REGION=us-east-1
      - ROUTE53_ENDPOINT=http://localstack:4566
      - AWS_ACCESS_KEY_ID=test
      - AWS_SECRET_ACCESS_KEY=test
      - AWS_REGION=us-east-1
    ports:
      - "4028:4028"
      - "8108:8108"
    depends_on:
      - localstack
  koorde-node-29:
    build:
      context: ../../
      dockerfile: docker/node.Dockerfile
    environment:
      - NODE_ID=00c419c9c91ba1ecce
      - NODE_HOST=koorde-node-29
      - NODE_PORT=4029
      - NODE_BIND=0.0.0.0
      - CACHE_HTTP_PORT=8109
      - BOOTSTRAP_MODE=route53
      - DEBRUIJN_DEGREE=2
      - ROUTE53_ZONE_ID=${ROUTE53_ZONE_ID:-Z00000000000000000000}
      - ROUTE53_SUFFIX=dht.local
      - ROUTE53_REGION=us-east-1
      - ROUTE53_ENDPOINT=http://localstack:4566
      - AWS_ACCESS_KEY_ID=test
      - AWS_SECRET_ACCESS_KEY=test
      - AWS_REGION=us-east-1
    ports:
      - "4029:4029"
      - "8109:8109"
    depends_on:
      - localstack
  koorde-node-30:
    build:
      context: ../../
      dockerfile: docker/node.Dockerfile
    environment:
      - NODE_ID=00ccba4d1b770314a1
      - NODE_HOST=koorde-node-30
      - NODE_PORT=4030
      - NODE_BIND=0.0.0.0
      - CACHE_HTTP_PORT=8110
      - BOOTSTRAP_MODE=route53
      - DEBRUIJN_DEGREE=2
      - ROUTE53_ZONE_ID=${ROUTE53_ZONE_ID:-Z00000000000000000000}
      - ROUTE53_SUFFIX=dht.local
      - ROUTE53_REGION=us-east-1
      - ROUTE53_ENDPOINT=http://localstack:4566
      - AWS_ACCESS_KEY_ID=test
      - AWS_SECRET_ACCESS_KEY=test
      - AWS_REGION=us-east-1
    ports:
      - "4030:4030"
      - "8110:8110"
    depends_on:
      - localstack
  koorde-node-31:
    build:
      context: ../../
      dockerfile: docker/node.Dockerfile
    environment:
      - NODE_ID=026570e32816bb9e31
      - NODE_HOST=koorde-node-31
      - NODE_PORT=4031
      - NODE_BIND=0.0.0.0
      - CACHE_HTTP_PORT=8111
      - BOOTSTRAP_MODE=route53
      - DEBRUIJN_DEGREE=2
      - ROUTE53_ZONE_ID=${ROUTE53_ZONE_ID:-Z00000000000000000000}
      - ROUTE53_SUFFIX=dht.local
      - ROUTE53_REGION=us-east-1
      - ROUTE53_ENDPOINT=http://localstack:4566
      - AWS_ACCESS_KEY_ID=test
      - AWS_SECRET_ACCESS_KEY=test
      - AWS_REGION=us-east-1
    ports:
      - "4031:4031"
      - "8111:8111"
    depends_on:
      - localstack
